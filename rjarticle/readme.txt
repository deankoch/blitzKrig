
Some notes on following the author guidelines for submission

-----------------------------------------------------------------------------------------
RESOURCES

https://journal.r-project.org/
https://journal.r-project.org/submissions.html
https://docs.google.com/forms/d/e/1FAIpQLSeqtHH0g9JhrNEwT4ScqVAQe6Qq4om1-EfUqBe12YsPrrB6WQ/viewform
https://rjournal.github.io/rjtools/articles/format-details.html


-----------------------------------------------------------------------------------------
This submission includes the following manuscript source files:

motivation-letter.md, motivation-letter.pdf, snapKrig.pdf, RJwrapper.tex, snapKrig.bib, snapKrig.Rmd,
snapKrig.tex, along with the figures in snapKrig_files/figure-latex/*.pdf

It also includes as supplementary files the following scripts and data in subfolder "data":

data/bench_experiment.R, data/bench_experiment_helpers.R, data/bench_results.csv, data/cv_experiment.R,
data/cv_results.csv, data/data_helpers.R, data/readme.txt, data/treed.tif, data/treed_dem.tif


-----------------------------------------------------------------------------------------
Size constraints

It was unclear if I should also include snapKrig.html, RJournal.sty, and RJWrapper.pdf. The official
instructions for authors seems to indicate I shouldn't but that document is about 4 years old now.
I assume the website has been updated more recently. At first it states to include all the files, but
below that it suggests a smaller subset is acceptable, and it also mentions a soft limit on submission
package size around 10mb.

My figures total about 3.2MB, same as RJwrapper.pdf, snapKrig.html, and snapKrig.pdf (which have the
figures baked in). And my supplement is 11MB, so I am over the limit in any case.

To save space I omitted RJwrapper.pdf (which is identical to snapKrig.pdf as far as I can
tell) and got a zip of size 19mb. The submission system seems to have accepted it. If I wanted to
reduce size further, I could probably omit all PDF files and the html, since they are easy to
generate from the Rmd and tex files. 

-----------------------------------------------------------------------------------------
Latex output

We have two final rendered documents in the submission, an HTML and a PDF. The default template
Rmd (created using rjtools) is set up to generate both files, along with the tex files that generate
the PDF (RJWrapper.tex and snapKrig.tex). However I have noticed that with default arguments in the
Rmd YAML, we get two issues in the tex file:

1) the latex figure source files are deleted after rendering.
2) a redundant ".bib" extension is added to the tex \bibliography{...} call

Both issues will cause errors if you try to render the RJWrapper.tex (which in turn reads the
snapKrig.tex). This is a problem for anyone who might want to render the document directly from
tex instead of through R, and the guide for authors suggests this workflow is used in production.

Here are the steps I took to get a complete set of latex manuscript files that is compatible
with RJWrapper.tex

STEP 1)

Follow the directions for using rjtools::create_article(), build the bib file, rename
it from its original template name to match the article name (snapKrig.bib), then fill
in the Rmd content as per the directions from rjtools.

At the end of this step, in addition to this readme.txt and the data subdirectory, you
should have (at least) the following in the manuscript directory

snapKrig.Rmd
snapKrig.bib
RJournal.sty

All the rest of the submission files (including RJwrapper.tex) are built from these
three source files by rjtools.

At this point you should knit the Rmd to get a copy of the self-contained html file
(if you want it).

STEP 2)

The Rmd file generated by rjtools::create_article() needs a few modifications in order
to yield the right latex files after knitting:

in the YAML set the following:

draft: false

output:
  rjtools::rjournal_pdf_article:
    self_contained: false
    toc: false
    keep_tex: true
    pandoc_args: --natbib

bibliography: snapKrig

The "self_contained" and keep_tex" arguments ensures that your figure files won't be
deleted after the document is rendered, and the "pandoc_args" argument ensures that
citation commands are replaced with the appropriate natbib command ("\citep") rather
than replacing everything with baked-in CSL citations.

Note that bibliography includes only the name (and not the extension) of the bib file

The knit button in Rstudio generates the .tex and its wrapper (another .tex) along
with the figures and a PDF render, which should look okay at this point


STEP 4)

Test that the RJWrapper.tex can be rendered by running the following

tools::texi2pdf('RJWrapper.tex')

This generates some additional files, including the rendered output RJWrapper.pdf. Make
sure this looks good and the rendering produced no errors.


STEP 5)

Run checks for submission from rjtools

library(here)
rjtools::initial_check_article(path=here('rjarticle'))


-----------------------------------------------------------------------------------------
HTML output

If at some point we need to go back and make changes, we may need to regenerate the self-contained
HTML file again. Do this by changing the Rmd YAML as follows:

output: 
  rjtools::rjournal_web_article:
    self_contained: true
    toc: false
    keep_tex: true
    pandoc_args: --natbib
bibliography: snapKrig.bib

Then go back and repeat the steps 2-5 above to get the new latex output. Note that when you knit
with the YAML as above, it will delete the latex figures directory!


-----------------------------------------------------------------------------------------
